steps:
- name: node
  entrypoint: npm
  dir: ''
  args : ['run','deploy']

- name: 'gcr.io/cloud-builders/gcloud'
  args: ['-q','app','deploy']
  timeout : 1800s 

  # - name: 'gcr.io/cloud-builders/gcloud'
  #   args: ['run', 'deploy', 'cicd-demo', '--image', 'gcr.io/$PROJECT_ID/angular-flask-demo', '--region', 'us-central1', '--platform', 'managed', '--port', '8000', '--allow-unauthenticated']

# steps:
#   - name: node:lts-alpine3.15
#     entrypoint: npm
#     dir: "Angular_Project/"
#     args: ["run","deploy"]

#   - name: "gcr.io/cloud-builders/gcloud"
#     args: ["-q","app","deploy"]
#   - name: 'gcr.io/cloud-builders/docker'
#     args: ['build', '-t', 'gcr.io/$PROJECT_ID/angularapp', '.']
#   - name: 'gcr.io/cloud-builders/docker'
#     args: ['push', 'gcr.io/$PROJECT_ID/angularapp']

#   - name: 'gcr.io/cloud-builders/gcloud'
#     args: ['run', 'deploy', 'todoapp', '--image', 'gcr.io/$PROJECT_ID/angularapp', '--region', 'us-central1', '--platform', 'managed', '--port', '8000', '--allow-unauthenticated']